define(["jquery","backbone","app/app","app/routing/router","app/view/header","app/service/rounting"],function($,Backbone,app,router,HeaderView,RoutingService){router.route("*defaults","default",function(){router.navigate("users",{trigger:!0,replace:!0})});router.route("error","error",function(){require(["app/view/error"],function(ErrorView){app.pageContent.show(new ErrorView)})});router.route("users","users",function(){require(["app/model/users","app/view/users/list"],function(UsersModel,UsersListView){var usersModel=new UsersModel;usersModel.fetch({reset:!0,success:function(){app.pageContent.show(new UsersListView({collection:usersModel}))},error:function(model,jqXHR){RoutingService.errorUserRedirection(jqXHR)}})})});router.route("users/:userId/read","users-read",function(userId){require(["app/model/user","app/view/users/read"],function(UserModel,UserReadView){var userModel=new UserModel({_id:userId});userModel.fetch({success:function(){app.pageContent.show(new UserReadView({model:userModel}))},error:function(model,jqXHR){RoutingService.errorUserRedirection(jqXHR)}})})});router.route("users/:userId","users-write",function(userId){require(["app/model/user","app/view/users/write"],function(UserModel,UserWriteView){var userModel=new UserModel({_id:userId});userModel.fetch({success:function(){app.pageContent.show(new UserWriteView({model:userModel}))},error:function(model,jqXHR){RoutingService.errorUserRedirection(jqXHR)}})})});router.route("users/create","users-creation",function(){require(["app/model/user","app/view/users/write"],function(UserModel,UserWriteView){app.pageContent.show(new UserWriteView({model:new UserModel}))})});router.route("users/notfound","users-notfound",function(){require(["app/view/users/not-found"],function(UserNotFoundView){app.pageContent.show(new UserNotFoundView)})});$(document).ready(function(){app.addRegions({pageHeader:'[data-region="page-header"]',pageContent:'[data-region="page-content"]'});Backbone.history.start();app.pageHeader.show(new HeaderView)});return router});